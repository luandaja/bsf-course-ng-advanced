<div [formGroup]="form">
  <ng-container [ngSwitch]="entry.controlType">

    <div *ngSwitchCase="'textbox'" class="form-group">
      <label [attr.for]="entry.key">{{entry.label}}</label>
      <input class="form-control" type="text" [id]="entry.key" [formControlName]="entry.key"
        [ngClass]="{ 'is-invalid': displayMessage[entry.key] }">
      <!-- <small *ngIf="entry.maxLength">{{texbox.value.length}} / {{entry.maxLength}}</small> -->
      <div *ngIf="displayMessage[entry.key]" class="invalid-feedback">
        <p>{{displayMessage[entry.key]}}</p>
      </div>
    </div>

    <div *ngSwitchCase="'textblock'" class="form-group">
      <label [attr.for]="entry.key">{{entry.label}}</label>
      <textarea class="form-control" [id]="entry.key" [rows]="entry.rows"
        [ngClass]="{'is-invalid': displayMessage[entry.key]}" >
      </textarea>
      <!-- <small *ngIf="entry.maxLength">{{textblock.value.length}} / {{entry.maxLength}}</small> -->
      <div *ngIf="displayMessage[entry.key]" class="invalid-feedback">
        <p>{{displayMessage[entry.key]}}</p>
      </div>
    </div>

    <div *ngSwitchCase="'dropdown'" class="form-group">
      <label [attr.for]="entry.key">{{entry.label}}</label>
      <select [id]="entry.key" [formControlName]="entry.key"
        [ngClass]="{ 'is-invalid': displayMessage[entry.key] }">
        <option *ngFor="let opt of entry.options" [value]="opt.key">{{opt.value}}</option>
      </select>
      <div *ngIf="displayMessage[entry.key]" class="invalid-feedback">
        <p>{{displayMessage[entry.key]}}</p>
      </div>
    </div>

  </ng-container>
</div>
